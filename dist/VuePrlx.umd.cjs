(function(a,l){typeof exports=="object"&&typeof module<"u"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(a=typeof globalThis<"u"?globalThis:a||self,l(a.VuePrlx={}))})(this,function(a){"use strict";function l(e){window.cancelAnimationFrame(e.__prlxRequestAnimationFrameId),delete e.__prlxRequestAnimationFrameId}function r(e,{modifiers:o={},value:i={}}){const t={isParallaxOnMobile:o.mobile||!1,background:o.background||!1,startParallaxFromBottom:i.fromBottom||!1,justAddParallaxValue:i.custom||!1,reverse:i.reverse||!1,speed:i.speed||.15,preserveInitialPosition:i.preserveInitialPosition===!1?i.preserveInitialPosition:!0,direction:i.direction||"y",limit:i.limit||null,mobileMaxWidth:i.mobileMaxWidth||768,isDisabled:i.disabled||!1};t.background&&(t.speed=i.speed||.02,t.limit={min:0,max:100}),t.reverse&&(t.speed=-t.speed),t.isDisabled?l(e):(!(window.innerWidth<t.mobileMaxWidth)||t.isParallaxOnMobile)&&s(e,t)}function s(e,o){const i=o.startParallaxFromBottom?window.innerHeight:window.innerHeight/2;let n=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)-x(e)+i;o.preserveInitialPosition&&n<0&&(n=0),p(e)&&f(e,n,o),e.__prlxRequestAnimationFrameId=window.requestAnimationFrame(s.bind(null,e,o))}function f(e,o,i){let t=o*i.speed;i.limit&&(t>i.limit.max&&(t=i.limit.max),t<i.limit.min&&(t=i.limit.min));let n;i.background?n=u:i.justAddParallaxValue?n=c:n=m,n(e,t,i.direction)}function u(e,o,i){e.style.transition="background-position 0.1s ease-out",i==="y"?e.style.backgroundPosition=`50% ${o}%`:e.style.backgroundPosition=`${o}% 50%`}function m(e,o,i){e.style.transition="transform 0.1s ease-out",e.style.transform=`translate${i.toUpperCase()}(${Math.round(o)}px)`}function c(e,o){e.style.setProperty("--parallax-value",o)}const p=(e,{top:o,height:i}=e.getBoundingClientRect())=>o<=innerHeight&&o+i>0,x=e=>{let o=0;do o+=e.offsetTop||0,e=e.offsetParent;while(e);return o},b={install(e,o={}){console.log(o),e.directive("prlx",{beforeMount:(i,t={modifiers:{},value:{}})=>{r(i,t)},updated:(i,t={modifiers:{},value:{}})=>{r(i,t)},unmounted:i=>{l(i)}})}},d={install(e){e.use(b)}};a.VuePrlx=d,a.default=d,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
